---
title: 'Какие методы изменения документа считаются устаревшими и почему?'
tags: ["javascript", "html"]
published: true
date: '2020-22-07'
---  

# Какие методы изменения документа считаются устаревшими и почему?

Для того чтобы вставить контент в HTML страницу, нам необходимо взаимодействовать c DOM (Document Object Model) — объектной моделью документа.

Для решения этой задачи существует целый ряд методов, например для вставки в документ
можно использовать методы `append` и `appenChild`.

Однако рекомендуется использовать именно метод `append` наряду с такими методами как:

* `prepend` 
* `before` 
* `after` 
* `remove`
* `replaceWith`

Вместо следующих методов, которые считаются устаревшими.
Но которые все еще можно встретить в старых скриптах:

* `appendChild`
* `insertBefore`
* `replaceChild`
* `removeChild`

Давайте разберемся в чем смысл данной рекомендации и почему мы должны использовать `append` вместо `appendChild`

## "append" vs "appendChild"

> append [specification](https://dom.spec.whatwg.org/#dom-parentnode-append)  
> appendChild [specification](https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-184E7107)

### "appendChild"

Метод `element.appendChild(node)` обладает рядом следующих особенностей:

1. добавляет `node` - DOM элемент в конец дочерних элементов `element`.
2. возвращает добавленный элемент `node` (кроме случаев когда `node` - это `DocumentFragment`)
3. если `node` является ссылкой на существующий элемент DOM, то данный элемент будет перемещен в новую позицию 

### "append"

Метод `element.append(...nodes or strings)` обладает рядом следующих особенностей:
 
1. добавляет `nodes` - DOM элементы или строки в конец списка дочерних элементов `element`
2. ничего не возвращает (будет возвращено значение `undefined`)
3. позволяет добавить несколько DOM элементов или строк
4. если `node` является ссылкой на существующий элемент DOM, то данный элемент будет перемещен в новую позицию 

### Разница между "append" vs "appendChild"

1. `append` принимает как DOM элементы так и строки, в то время как `appendChid` только DOM элементы
2. `append` позволяет вставить несколько значений, `appendChid` позволяет вставить только одно значение
3. `append` ничего не возвращает, `appendChid` вернет добавленный элемент

## Вывод

Первые два отличия делают использование метода `append` более гибким по сравнению с методом `appendChid`,
т.к. на практике часто приходится вставлять строки или несколько элементов за раз, а вот возврат вставленного элемента
нужен в очень редких случаях.

Также, из вышеперечисленных отличий следует, что можно смело заменить вызов
`appendChild` на `append` без последствий, но никак не наоборот.

Все оставшиеся устаревшие методы: `insertBefore`, `replaceChild`, `removeChild`, обладают все той же спецификой
поведения что и `appendChild`:

* работают только с DOM элементами
* позволяют вставить только одно значение 
* возвращают вставленный элемент

Поэтому выбор в пользу методов `prepend`, `before`, `after`, `remove`, `replaceWith` справедлив и для них.
